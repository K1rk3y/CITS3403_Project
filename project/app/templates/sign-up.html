<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up Page</title>
    <link rel="stylesheet" href="static/login.css">
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Function to handle dropdown item selection
            function selectRole(role) {
                // Update the button text with the selected role
                document.getElementById("dropdownMenuButton").textContent = role;
                // Set the value of the hidden input field with the selected role
                document.getElementById("role").value = role;
            }
            
            // Event listener for the "Already a user?" link
            document.getElementById('already-user-link').addEventListener('click', function(event) {
                event.preventDefault(); // Prevent default action of clicking anchor link
                // Redirect to the /login page
                window.location.href = '/login';
            });
            
         });
    </script>
</head>

<body>
    <div class="container">
        <h1>Sign Up</h1>
        <p>Welcome to Homemade!</p>

        {% if flash_message %}
            <div class="flash-message" style="color: green;">{{ flash_message }}</div>
        {% endif %}

        <form id="registrationForm" action="/register" method="post">
            {{ form.csrf_token }}
            
            <p>
                {{ form.email.label }}<br>
                {{ form.email(size=32) }}
                {% for error in form.email.errors %}
                    <span style="color: red;">{{ error }}</span><br>
                {% endfor %}
            </p>
            
            <p>
                {{ form.username.label }}<br>
                {{ form.username(size=32) }}
                {% for error in form.username.errors %}
                    <span style="color: red;">{{ error }}</span><br>
                {% endfor %}
            </p>

            <p>
                {{ form.password.label }}<br>
                {{ form.password(size=32) }}
                {% for error in form.password.errors %}
                    <span style="color: red;">{{ error }}</span><br>
                {% endfor %}
            </p>

            <p>
                {{ form.confirm.label }}<br>
                {{ form.confirm(size=32) }}
                {% for error in form.confirm.errors %}
                    <span style="color: red;">{{ error }}</span><br>
                {% endfor %}
            </p>
            
            <p>
                {{ form.role.label }}<br>
                {{ form.role }}
                {% for error in form.role.errors %}
                    <span style="color: red;">{{ error }}</span><br>
                {% endfor %}
            </p>

            <p>
                {{ form.submit }}
            </p>
            
            <div class="footer">
                <a href="#" id="already-user-link" class="footer-link">Already a user?</a>
            </div>
        </form>
  
    </div>
</body>
</html>
